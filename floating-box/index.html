<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Floating Inputs and Divs</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: "Comic Sans MS", cursive, sans-serif;
        background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee);
        background-size: 400% 400%;
        animation: gradientAnimation 8s ease infinite;
        position: relative;
        cursor: pointer;
      }

      @keyframes gradientAnimation {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .floating {
        position: absolute;
        padding: 15px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: bold;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        animation: floatEffect 4s ease-in-out infinite;
        cursor: grab;
      }

      @keyframes floatEffect {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .floating:hover {
        transform: scale(1.2);
        transition: transform 0.3s;
      }

      input.floating {
        background: #ffeb3b;
        color: #000;
        border: 2px solid #ff9800;
        text-align: center;
        outline: none;
        transition: all 0.3s ease;
      }

      input.floating:hover {
        border-color: #f44336;
        background: #ffe082;
      }

      div.floating {
        background: #4caf50;
        color: #fff;
        border: 2px solid #8bc34a;
        text-align: center;
        user-select: none;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      div.floating:hover {
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div>
      <a href="/">
        <p>Go Back 2 Homepage</p>
      </a>

      <p>Type something in the box,</p>
      <p>and then hit enter</p>
      <br />
      <br />
      <p>You can click and drag the boxes</p>
      <p>This doesn't work well on smartphones</p>
    </div>
    <script>
      const createFloatingInput = () => {
        // Create the input element
        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = "Type something...";
        input.className = "floating";

        // Position it randomly
        input.style.left = `${Math.random() * (window.innerWidth - 150)}px`;
        input.style.top = `${Math.random() * (window.innerHeight - 50)}px`;

        // Append the input to the document
        document.body.appendChild(input);

        // Add an event listener for submission
        input.addEventListener("keydown", (event) => {
          if (event.key === "Enter" && input.value.trim() !== "") {
            // Replace input with a div
            const div = document.createElement("div");
            div.className = "floating";
            div.textContent = input.value;
            div.style.left = input.style.left;
            div.style.top = input.style.top;
            input.value = "";

            // Allow dragging of divs
            div.addEventListener("mousedown", (e) => {
              let shiftX = e.clientX - div.getBoundingClientRect().left;
              let shiftY = e.clientY - div.getBoundingClientRect().top;

              const moveAt = (pageX, pageY) => {
                div.style.left = `${pageX - shiftX}px`;
                div.style.top = `${pageY - shiftY}px`;
              };

              const onMouseMove = (e) => moveAt(e.pageX, e.pageY);

              document.addEventListener("mousemove", onMouseMove);

              div.addEventListener("mouseup", () => {
                document.removeEventListener("mousemove", onMouseMove);
                div.onmouseup = null;
              });
            });

            // Track the number of clicks
            let clickCount = 0;
            div.addEventListener("click", () => {
              clickCount++; // Increase click count
              if (clickCount === 2) {
                div.remove(); // Remove after the second click
              }
            });

            div.ondragstart = () => false;

            document.body.appendChild(div);
          }
        });
      };

      // Create an initial input
      createFloatingInput();

      // Add new floating inputs on click
      document.body.addEventListener("click", (event) => {
        if (event.target === document.body) {
          createFloatingInput();
        }
      });
    </script>
  </body>
</html>
